# Bitaxe Monitor Configuration
# Copy this file to config.yaml and update with your device IPs

# Remote access authentication (for Cloudflare Tunnel)
auth:
  enabled: false          # Set to true when using tunnel
  username: "admin"
  password: "changeme"    # Change this!

devices:
  - name: "bitaxe-1"
    ip: "192.168.1.100"       # Replace with your Bitaxe IP
    enabled: true
    group: "bitaxe"           # Group for separate chart scaling

  - name: "bitaxe-2"
    ip: "192.168.1.101"       # Replace with your Bitaxe IP
    enabled: true
    group: "bitaxe"

  # NerdQAxe devices (4-chip units) - separate group for chart scaling
  # - name: "nerdqaxe-1"
  #   ip: "192.168.1.xxx"
  #   enabled: true
  #   group: "nerdqaxe"

# Power limits per device group (for dashboard warnings and chart scaling)
device_groups:
  bitaxe:
    max_power: 40              # Maximum safe sustained power (W)
    warn_power: 35             # Warning threshold (W)
    psu_capacity: 40           # PSU rated capacity (W)
  nerdqaxe:
    max_power: 110             # NerdQAxe safe sustained (120W PSU)
    warn_power: 96             # Warning threshold (~80% of PSU)
    psu_capacity: 120          # Stock PSU capacity (W)

logging:
  poll_interval: 10           # Seconds between polls
  database_path: "./data/metrics.db"
  log_level: "INFO"           # DEBUG, INFO, WARNING, ERROR

# Dashboard configuration
dashboard:
  # Remote API URL - set this to fetch data from a remote server
  # Leave empty or comment out to use local database
  # remote_api_url: "http://raspberrypi.local:5001"

safety:
  max_temp_warning: 65         # C - Log warning
  max_temp_shutdown: 70        # C - Emergency alert
  min_hashrate_warning: 400    # GH/s - Alert if hashrate drops

# Discord Bot Configuration
discord:
  enabled: false
  token: "${DISCORD_BOT_TOKEN}"   # Reads from .env file
  command_prefix: "!"

  auto_report:
    enabled: true
    channel_name: "mining"
    channel_id: 1234567890123456789    # Your channel ID
    schedule: "0 * * * *"              # Every hour
    include_charts: true
    graph_lookback_hours: 12

  alerts:
    enabled: true
    channel_id: 1234567890123456789
    check_interval_minutes: 1
    offline_threshold_minutes: 2

  control:
    enabled: true
    admin_role_id: 0                   # 0 = everyone can use
    min_frequency: 400
    max_frequency: 650
    min_voltage: 1000
    max_voltage: 1300
    min_fan_speed: 0
    max_fan_speed: 100
